const imageFolders = ["images/Valorant", "images/League"]; // Add other folders if needed
let imageList = [];

// Fetch all images from the folders
async function fetchImages() {
    let allImages = [];
    for (let folder of imageFolders) {
        let response = await fetch(`https://api.github.com/repos/Slimmer532/RandomImagesSit/contents/${folder}`);
        let data = await response.json();
        allImages = allImages.concat(data.map(file => file.download_url));
    }
    return allImages;
}

// Load a random image
async function loadRandomImage() {
    if (imageList.length === 0) {
        imageList = await fetchImages();
    }
    if (imageList.length > 0) {
        let randomIndex = Math.floor(Math.random() * imageList.length);
        document.getElementById("randomImage").src = imageList[randomIndex];
    }
}

// Toggle image visibility
function toggleImage() {
    let img = document.getElementById("randomImage");
    let btn = document.querySelector("button[onclick='toggleImage()']");
    
    if (img.style.display === "none") {
        img.style.display = "block";
        btn.textContent = "Hide Image";
    } else {
        img.style.display = "none";
        btn.textContent = "Show Image";
    }
}

// Load an image when the page opens
window.onload = loadRandomImage;
